@import "tailwindcss";

/* DEFault Professional Tool — Dark Theme Design System
   Palette inspired by GitHub Dark / VS Code Dark+ */

:root {
  /* Canvas */
  --bg-base:    #0d1117;   /* page background */
  --bg-card:    #161b22;   /* card/panel surface */
  --bg-overlay: #1c2128;   /* elevated surfaces, tooltips */
  --bg-input:   #0d1117;   /* input fields */
  --border:     #30363d;   /* default borders */
  --border-subtle: #21262d;/* subtle dividers */

  /* Text */
  --text-primary:   #e6edf3;
  --text-secondary: #8b949e;
  --text-muted:     #484f58;
  --text-code:      #79c0ff;  /* monospace / code */

  /* Accent */
  --accent:        #58a6ff;   /* primary blue */
  --accent-hover:  #388bfd;

  /* Semantic */
  --fault-red:     #f85149;   /* detected fault */
  --fault-red-bg:  #3d1a1a;
  --safe-green:    #3fb950;   /* no fault / correct */
  --safe-green-bg: #1a3a1a;
  --warn-yellow:   #d29922;
  --warn-yellow-bg:#3a2a00;
  --shap-pos:      #f85149;   /* SHAP pushes toward buggy */
  --shap-neg:      #3fb950;   /* SHAP pushes toward correct */

  /* Extended accent palette */
  --accent-dim:  rgba(88, 166, 255, 0.08);  /* subtle blue wash */
  --accent-glow: rgba(88, 166, 255, 0.18);

  /* Depth / shadow */
  --shadow-sm:    0 1px 3px rgba(0,0,0,0.4), 0 1px 2px rgba(0,0,0,0.3);
  --shadow-panel: 0 8px 24px rgba(0,0,0,0.5), 0 2px 8px rgba(0,0,0,0.4);

  /* Font */
  --font-sans: "Inter", -apple-system, system-ui, sans-serif;
  --font-mono: "JetBrains Mono", "Fira Code", "Cascadia Code", ui-monospace, monospace;

  /* Radius scale */
  --radius-xs: 4px;
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
}

@theme inline {
  --color-background: var(--bg-base);
  --color-foreground: var(--text-primary);
  --font-sans: var(--font-sans);
  --font-mono: var(--font-mono);
}

* {
  box-sizing: border-box;
}

html, body {
  height: 100%;
  background: var(--bg-base);
  color: var(--text-primary);
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Scrollbar styling */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: var(--bg-base); }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--text-muted); }

/* Code blocks */
code, pre, .font-mono { font-family: var(--font-mono) !important; }

/* ── Button base classes ────────────────────────────────────────────────── */

/* Primary accent button */
.btn-primary {
  display: inline-flex; align-items: center; justify-content: center;
  gap: 6px; padding: 8px 14px;
  border-radius: var(--radius-md);
  background: var(--accent); color: #fff;
  font-size: 12px; font-weight: 600;
  border: none; cursor: pointer;
  transition: background 0.15s, box-shadow 0.15s, transform 0.1s;
}
.btn-primary:hover  { background: var(--accent-hover); box-shadow: 0 0 0 3px var(--accent-glow); }
.btn-primary:active { transform: scale(0.97); }
.btn-primary:disabled { opacity: 0.45; cursor: not-allowed; }

/* Secondary / ghost button */
.btn-secondary {
  display: inline-flex; align-items: center; justify-content: center;
  gap: 6px; padding: 8px 14px;
  border-radius: var(--radius-md);
  background: var(--bg-overlay); color: var(--text-secondary);
  font-size: 12px; font-weight: 600;
  border: 1px solid var(--border); cursor: pointer;
  transition: background 0.15s, border-color 0.15s, color 0.15s;
}
.btn-secondary:hover  { background: var(--bg-card); border-color: var(--text-muted); color: var(--text-primary); }
.btn-secondary:active { transform: scale(0.97); }
.btn-secondary:disabled { opacity: 0.45; cursor: not-allowed; }

/* Ghost — no border, just hover bg */
.btn-ghost {
  display: inline-flex; align-items: center; justify-content: center;
  gap: 5px;
  background: transparent; color: var(--text-muted);
  font-size: 11px; border: none; cursor: pointer;
  border-radius: var(--radius-xs);
  transition: background 0.12s, color 0.12s;
}
.btn-ghost:hover  { background: var(--bg-overlay); color: var(--text-secondary); }
.btn-ghost:active { background: var(--border-subtle); }

/* Danger ghost */
.btn-danger {
  display: inline-flex; align-items: center;
  gap: 5px; padding: 4px 8px;
  background: transparent; color: var(--text-muted);
  font-size: 11px; border: none; cursor: pointer;
  border-radius: var(--radius-xs);
  transition: background 0.12s, color 0.12s;
}
.btn-danger:hover  { background: var(--fault-red-bg); color: var(--fault-red); }

/* Session row hover reveals delete button */
.session-row:hover { background: var(--bg-card) !important; }
.session-row:hover .session-delete { opacity: 1 !important; }

/* Panel card shadow */
.shadow-panel { box-shadow: var(--shadow-panel); }

/* Smooth transitions on interactive elements */
button, a, [role="button"] { transition: all 0.15s ease; }

/* Focus ring — visible for keyboard users, hidden for mouse */
*:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
  border-radius: 4px;
}
*:focus:not(:focus-visible) { outline: none; }

/* Skip to main content — accessibility */
.skip-link {
  position: absolute;
  top: -999px; left: 0;
  z-index: 9999;
  padding: 8px 16px;
  background: var(--accent);
  color: #fff;
  font-size: 12px;
  font-weight: 600;
  border-radius: 0 0 4px 0;
  text-decoration: none;
}
.skip-link:focus { top: 0; }

/* Screen-reader-only utility */
.sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0,0,0,0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* Animations */
@keyframes pulse-ring {
  0%   { box-shadow: 0 0 0 0 rgba(88, 166, 255, 0.4); }
  70%  { box-shadow: 0 0 0 8px rgba(88, 166, 255, 0); }
  100% { box-shadow: 0 0 0 0 rgba(88, 166, 255, 0); }
}

@keyframes slide-in-right {
  from { opacity: 0; transform: translateX(16px); }
  to   { opacity: 1; transform: translateX(0); }
}

@keyframes fade-in {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes shimmer {
  0%   { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.animate-pulse-ring { animation: pulse-ring 1.5s ease-out infinite; }
.animate-slide-in   { animation: slide-in-right 0.3s ease forwards; }
.animate-fade-in    { animation: fade-in 0.25s ease forwards; }

@keyframes pulse-live {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0.35; }
}
.animate-pulse-live { animation: pulse-live 1.2s ease-in-out infinite; }

/* Skeleton loader */
.skeleton {
  background: linear-gradient(90deg,
    var(--bg-card) 0%, var(--bg-overlay) 50%, var(--bg-card) 100%);
  background-size: 200% 100%;
  animation: shimmer 1.4s ease-in-out infinite;
  border-radius: 4px;
}
